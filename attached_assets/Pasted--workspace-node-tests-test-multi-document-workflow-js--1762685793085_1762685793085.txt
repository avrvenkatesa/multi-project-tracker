~/workspace$ node tests/test-multi-document-workflow.js
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  MULTI-DOCUMENT WORKFLOW - INTEGRATION TEST          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Setup: Creating test project...
âœ“ Created project 22

Running multi-document analyzer...

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   MULTI-DOCUMENT PROJECT IMPORT STARTING           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ Project ID: 22
ğŸ“„ Documents: 3
ğŸ“… Start Date: 2025-01-06

Step 1/7: Combining document text...
âœ“ Combined 1403 characters

Step 2/7: Detecting workstreams...
ğŸ” Analyzing document for workstreams...
ğŸ“„ Raw AI response length: 2115
ğŸ”¢ Tokens used: 1363
âœ… Identified 3 workstreams
âœ“ Found 3 workstreams
  1. Prerequisites Validation and Approval (unknown complexity)
  2. Infrastructure Assessment and Migration Planning (unknown complexity)
  3. AWS Deployment and Replication Setup (unknown complexity)

Step 3/7: Creating issues from workstreams...
  âœ“ Created issue #129: Prerequisites Validation and Approval
  âœ“ Created issue #130: Infrastructure Assessment and Migration Planning
  âœ“ Created issue #131: AWS Deployment and Replication Setup
âœ“ Created 3 issues

Step 4/7: Extracting timeline...
âœ“ Extracted 3 phases, 3 milestones

Step 5/7: Creating dependencies...
ğŸ”— Creating dependencies for 3 workstreams in project 22
  â†’ Found 3 issues in project
  âœ“ Mapped "Prerequisites Validation and Approval" â†’ Issue #129 "Prerequisites Validation and Approval"
  âœ“ Mapped "Infrastructure Assessment and Migration Planning" â†’ Issue #130 "Infrastructure Assessment and Migration Planning"
  âœ“ Mapped "AWS Deployment and Replication Setup" â†’ Issue #131 "AWS Deployment and Replication Setup"
  â†’ 0 dependencies to create
âœ… Created 0 dependencies
âš  2 warnings
âœ“ Created 0 dependencies

Step 6/7: Parsing resource assignments...
ğŸ” RESOURCE PARSER - Starting extraction

Strategy 1: Parsing tables...
ğŸ“Š Found resource table with headers: task component, resource, role, effort
  âœ“ Parsed: Sultan (Infrastructure Lead) - 5.2 hours on Backup Validation
  âœ“ Parsed: Srihari S (Systems Engineer) - 2.3 hours on NTDS Extraction
  âœ“ Parsed: Moshik V (Cloud Architect) - 40 hours on AWS Deployment
  âœ“ Parsed: Sultan (Infrastructure Lead) - 12 hours on Replication Setup

Strategy 2: Parsing lists...

Strategy 3: Parsing paragraphs...

ğŸ“Š Total resources extracted: 4

Deduplicating resources...
âœ“ Unique resources: 4

Fetching project users...
ğŸ‘¥ Found 0 users in project 22
âš ï¸  No users found in project - skipping user matching

âœ… Resource parsing complete!
   Resources: 4
   Matched: 0
   Need review: 0
âœ“ Assigned 0 resources

Step 7/7: Generating checklists...
  Processing 3 of 3 workstreams
ğŸ¤– Generating standalone checklists from document (1403 chars)
[AI] Starting document analysis (provider: OpenAI GPT-4o)
[AI] Document analysis complete, parsing response...
=== AI RESPONSE DEBUG ===
Result keys: [ 'checklists' ]
Checklists count: 4
Checklist: "Phase 0: Prerequisites"
  Section: "Backup and Validation" - 5 items
  Section: "Gate 1 Approval" - 4 items
  âœ… Valid: 9 total items
Checklist: "Phase 1: Discovery"
  Section: "Assessment and Planning" - 3 items
  Section: "Completion Milestone" - 1 items
  âœ… Valid: 4 total items
Checklist: "Phase 2: Execution"
  Section: "Deployment and Setup" - 3 items
  Section: "Completion Milestone" - 1 items
  âœ… Valid: 4 total items
Checklist: "Effort and Resource Allocation"
  Section: "Resource Allocation" - 4 items
  âœ… Valid: 4 total items
âœ… Generated 4 valid checklists with 21 total items
ğŸ¤– Generating standalone checklists from document (1403 chars)
[AI] Starting document analysis (provider: OpenAI GPT-4o)
[AI] Document analysis complete, parsing response...
=== AI RESPONSE DEBUG ===
Result keys: [ 'checklists' ]
Checklists count: 4
Checklist: "Phase 0: Prerequisites"
  Section: "Backup Validation" - 3 items
  Section: "Gate 1 Approval" - 4 items
  âœ… Valid: 7 total items
Checklist: "Phase 1: Discovery"
  Section: "Assessment & Planning" - 4 items
  âœ… Valid: 4 total items
Checklist: "Phase 2: Execution"
  Section: "AWS Deployment" - 1 items
  Section: "Replication & Upgrade" - 3 items
  âœ… Valid: 4 total items
Checklist: "Effort Allocation"
  Section: "Task Assignments" - 4 items
  âœ… Valid: 4 total items
âœ… Generated 4 valid checklists with 19 total items
ğŸ¤– Generating standalone checklists from document (1403 chars)
[AI] Starting document analysis (provider: OpenAI GPT-4o)
[AI] Document analysis complete, parsing response...
=== AI RESPONSE DEBUG ===
Result keys: [ 'checklists' ]
Checklists count: 3
Checklist: "Phase 0: Prerequisites"
  Section: "Backup Validation" - 3 items
  Section: "Gate 1 Approval" - 3 items
  âœ… Valid: 6 total items
Checklist: "Phase 1: Discovery"
  Section: "Infrastructure Assessment" - 1 items
  Section: "Domain Analysis and Mapping" - 2 items
  Section: "Migration Planning" - 1 items
  âœ… Valid: 4 total items
Checklist: "Phase 2: Execution"
  Section: "AWS Deployment" - 1 items
  Section: "Replication Setup" - 1 items
  Section: "Functional Level Upgrade" - 1 items
  âœ… Valid: 3 total items
âœ… Generated 3 valid checklists with 13 total items
âœ“ Generated 3 checklists with 53 items

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   MULTI-DOCUMENT IMPORT COMPLETE                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… Import ID: 8
âœ… Duration: 24763ms
âœ… Total AI Cost: $0.0112


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  TEST RESULTS                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Overall Success: âœ… PASS

Documents Processed: 3
  Expected: 3
  Status: âœ…

Workstreams Created: 3
  Expected: 3 (Phase 0, 1, 2)
  Status: âœ…

Issues Created: 3
  Expected: 3+
  Status: âœ…

Timeline Extracted:
  Phases: 3 (expected: 3)
  Milestones: 3 (expected: 3)
  Status: âœ…

Dependencies Created: 0
  Expected: 1+ (Phase 1 â†’ Phase 2)
  Status: âš ï¸ 

Resource Assignments: 0
  Expected: 2+ (Sultan, Srihari)
  Status: âš ï¸ 

Checklists: 3
  Items: 53
  Status: âœ…

AI Cost: $0.0112
  Expected: < $0.50
  Status: âœ…

Errors: 0
  Expected: 0
  Status: âœ…

Warnings: 0

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  âœ… ALL TESTS PASSED!                                â•‘
â•‘  Multi-document workflow is working correctly!       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Cleaning up test data...
âœ“ Cleanup complete

ğŸ‰ Workflow test completed!
~/workspace$ 